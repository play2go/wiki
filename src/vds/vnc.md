---
order: 9
authors:
  - SimonSays2310
---

# Настройка TightVNC

:::warning Внимание
Хотя VNC гораздо лёгок в настройке, он имеет ряд существенных ограничений:

1. Отсутствие поддержки передачи звука (можно через [SSH-туннелирование](/vds/sshtunnel) передать вывод с PulseAudio на свой компьютер, но это не входит в рамки данной статьи);

2. Отсутствие какого-либо шифрования (шифруется лишь пароль, а содержимое сессии передаётся в открытом виде, чтобы этого не происходило необходимо использовать SSH-туннелирование);

3. Сессия может тормозить из-за неэффективности протокола: если RDP отправляет команды клиенту который в свою очередь отрисовывает изображение, то VNC отправляет значения пикселей удалённого экрана.
:::

[TightVNC](https://www.tightvnc.com/) - [VNC](https://ru.wikipedia.org/wiki/Virtual_Network_Computing)-сервер с открытым исходным кодом. Как и RDP, VNC также позволяет управлять VDS через графический интерфейс, но гораздо более прост в настройке.

## Настройка {#setup}

:::warning Внимание
Данные действия лучше всего выполнять под отдельным аккаунтом (можно использовать `root`, но нежелательно). Для его создания используйте `adduser ИМЯ_АККАУНТА` и после чего выдайте доступ к sudo командой `usermod -a -G sudo ИМЯ_АККАУНТА`, а для перехода в новый аккаунт используйте либо `su ИМЯ_АККАУНТА`, либо просто смените имя пользователя в SSH.
:::

1. Установите сам сервер, а также графическую оболочку (в рамках статьи используется XFCE4, но можно установить любую другую оболочку): `sudo apt install tightvncserver xfce4`;

2. В домашней папке пользователя (`/home/ИМЯ`), создайте папку `.vnc`, а в ней файл `xstartup` следующего содержания (для XFCE4):

```sh
#!/bin/sh
xfce4-session &
```

3. Сделайте его исполняемым (`chmod +x xstartup`), после чего запустите сервер командой `vncserver -localhost -geometry 1280x1080`.

:::info Описание параметров
`-localhost` - запускает сервер в пределах локальной сети (127.0.0.1), тем самым позволяя получить доступ **только через [SSH-туннелирование](/vds/sshtunnel)**. Рекомендуется из-за отсутствия шифрования, но если вас это устраивает - вы можете этот параметр убрать;

`-geometry РАЗРЕШЕНИЕ_ЭКРАНА` - задаёт разрешение экрана.
:::

В диалоговом окне введите любой пароль (ограничение 8 символов), а в просьбе задать отдельный пароль для режима просмотра ставите N, вам он не понадобится.

После запуска без вывода каких-либо ошибок, можете пробовать подключаться. На ПК используйте [тот же клиент](https://www.tightvnc.com/download.php) (TightVNC Viewer), а на Android - [RealVNC Viewer](https://play.google.com/store/apps/details?id=com.realvnc.viewer.android) ([для iOS](https://apps.apple.com/us/app/realvnc-viewer-remote-desktop/id352019548)).
